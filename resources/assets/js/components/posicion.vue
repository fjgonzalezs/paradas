<template>
	<div>
	<div class="mdl-grid">
		 <div class="mdl-cell mdl-cell--6-col-phone"><h4>Posicion</h4></div>
		  
	</div>
	<div class="mdl-grid">
	 <div class="mdl-cell mdl-cell--6-col-phone">
	 	<label for="lat">latitud: {{latitud}}</label> <br>
	 	<label for="lon">longitud: {{longitud}}</label> <br>
	 	<button @click="getLocalizacion">Obtener coordenadas</button>
	 </div>
	 
	
	</div>

	<div class="mdl-grid">
		
			<gmap-map
    :center="centro"
    :zoom="14"
    :map-type-id="tipoMapa"
    style="width: 100%; height: 500px"
  >
    <gmap-marker
      :key="index"
      v-for="(m, index) in marcadores"
      :position="m.posicion"
      :clickable="true"
      :draggable="true"
      
      @click=""
    ></gmap-marker>
    <gmap-marker
      :key="index"
      v-for="(m, index) in paradas"
      :position="m"
      :clickable="true"
      :draggable="false"
      :icon = "busimg"
      @click=""
    ></gmap-marker>
    <gmap-polyline :path="ruta" :editable="false">
      </gmap-polyline>
    
  </gmap-map>
		</div>
	
	
	</div>
</template>
<script>
	export default{
		data(){
			return {
				tipoMapa: 'hybrid',
				centro: {lat: -0.2389044999999999, lng: -79.17742679999998},
				latitud: '',
				longitud:'',
				busimg: '../imgs/bus1.png',
				marcadores: [],
				 ruta: [
           				 {lat:-0.2494875653190069,lng:-79.16290998458862},{lat:-0.24932126993556822,lng:-79.16306555271149},{lat:-0.24902086536663065,lng:-79.16323721408844},{lat:-0.24862926654327674,lng:-79.1634088754654},{lat:-0.2480177286315223,lng:-79.16352689266205},{lat:-0.24719161596904016,lng:-79.16349670615386},{lat:-0.24665249696352942,lng:-79.16346183743667},{lat:-0.24617238598999222,lng:-79.16341960430145},{lat:-0.24575664742351744,lng:-79.16340082883835},{lat:-0.24558230544017567,lng:-79.16338605337529},{lat:-0.24537577724157913,lng:-79.16336527791213},{lat:-0.2444611523238154,lng:-79.16334582024007},{lat:-0.24369672969078765,lng:-79.1632438962975},{lat:-0.2424307384277527,lng:-79.16322643862537},{lat:-0.24122643730709456,lng:-79.16312051468282},{lat:-0.239984585483094,lng:-79.16307121160708},{lat:-0.23952459066434525,lng:-79.16287221648321},{lat:-0.23933214384783988,lng:-79.16293096925318},{lat:-0.2392064163965657,lng:-79.1631025027159},{lat:-0.239323259107989,lng:-79.16336797745129},{lat:-0.23937497499930818,lng:-79.16357111114883},{lat:-0.23903471460543044,lng:-79.1678716528969},{lat:-0.23903816163311523,lng:-79.16805561273208},{lat:-0.2388592200339179,lng:-79.16813901304255},{lat:-0.23861590597442842,lng:-79.1681593581277},{lat:-0.23768959318610133,lng:-79.16765554653938},{lat:-0.23688311695319497,lng:-79.1673053990117},{lat:-0.23605072902544946,lng:-79.16713937187495},{lat:-0.23423711589386206,lng:-79.16718710433923},{lat:-0.23380773847753492,lng:-79.16699639385018},{lat:-0.23351794853599497,lng:-79.16714780183503},{lat:-0.233381100123272,lng:-79.16742298929455},{lat:-0.23348433586910208,lng:-79.1676625069669},{lat:-0.23357350435595414,lng:-79.16779667684818},{lat:-0.23395067974835665,lng:-79.1681088428092},{lat:-0.2344584476448074,lng:-79.16861729517069},{lat:-0.23562695715588933,lng:-79.17043556699804},{lat:-0.23637750741941949,lng:-79.17149858882556},{lat:-0.23699954365648804,lng:-79.17245757097271},{lat:-0.23739639171656135,lng:-79.17325992712807},{lat:-0.23760423226125443,lng:-79.17366149963408},{lat:-0.23780134405917927,lng:-79.17427364886117},{lat:-0.23781070284177475,lng:-79.17492534901447},{lat:-0.23731381345872538,lng:-79.17882590149895},{lat:-0.23726921489926653,lng:-79.17976766715162},{lat:-0.2373434743158785,lng:-79.18031365183037},{lat:-0.23865464231275707,lng:-79.18331008631986},{lat:-0.23992444675739202,lng:-79.18608167063775},{lat:-0.24064517886723635,lng:-79.18749092046875},{lat:-0.24135422899065803,lng:-79.18901998355187},{lat:-0.24152636544726083,lng:-79.18974896416728},{lat:-0.24170631015523802,lng:-79.19136504608491},{lat:-0.24182310435962748,lng:-79.19215162937155},{lat:-0.2420746187882286,lng:-79.1938575212231},{lat:-0.24226743062685518,lng:-79.19541957032885},{lat:-0.24240138713536075,lng:-79.19617913720958},{lat:-0.24262661430304297,lng:-79.19676913295314},{lat:-0.2431388734361928,lng:-79.19747550880425},{lat:-0.24571777484333013,lng:-79.19953589945425},{lat:-0.24693748857406045,lng:-79.20049099292686},{lat:-0.24819375172106053,lng:-79.20138796426943},{lat:-0.24867143069910888,lng:-79.20175820528738},{lat:-0.2488916200264655,lng:-79.20217809048563},{lat:-0.24906353004406298,lng:-79.20250341615935},{lat:-0.24931041607035878,lng:-79.20266607899623},{lat:-0.24966452686917973,lng:-79.20276013925076},{lat:-0.24999310999136182,lng:-79.20282806965861},{lat:-0.250310964371661,lng:-79.20298855959095},{lat:-0.25118939505315147,lng:-79.20362880051903},{lat:-0.25178954135967796,lng:-79.20402234062641},{lat:-0.25245707357572567,lng:-79.20434885671284},{lat:-0.25327095040275327,lng:-79.20451847917411},{lat:-0.2540882627475599,lng:-79.20449968425311},{lat:-0.2550735881371217,lng:-79.20427771007144},{lat:-0.25726407210769603,lng:-79.20338047132128},{lat:-0.2583754070426133,lng:-79.2029908605445},{lat:-0.25887743084105036,lng:-79.20279069073808},{lat:-0.26013962514943356,lng:-79.20252094445789},{lat:-0.26228079020072365,lng:-79.20255605048573},{lat:-0.2638314829220694,lng:-79.20263092988898},{lat:-0.2645639143236581,lng:-79.20256644564807},{lat:-0.2651232469913544,lng:-79.20250133481039},{lat:-0.26891388674815947,lng:-79.20099251780636},{lat:-0.27074483388871545,lng:-79.20017373628798},{lat:-0.2718373311592976,lng:-79.19974288785664},{lat:-0.27236748668531374,lng:-79.19954119247706},{lat:-0.272691801337241,lng:-79.19935731707699},{lat:-0.27314486055079534,lng:-79.19918553493096},{lat:-0.27441061978544534,lng:-79.20037663275536},{lat:-0.2749657161871353,lng:-79.20086589330697},{lat:-0.2752674039808581,lng:-79.20091304011567},{lat:-0.27544506965508847,lng:-79.20085614724968},{lat:-0.27560900347498407,lng:-79.20065435723063},{lat:-0.2757607070109689,lng:-79.20001802041821},{lat:-0.2759062954042604,lng:-79.19902391202675},{lat:-0.2760005470234018,lng:-79.19835117314045},{lat:-0.27614289014722765,lng:-79.19769930303363},{lat:-0.2763079379327753,lng:-79.19718259003565},{lat:-0.2765621212030908,lng:-79.19656849973768},{lat:-0.27954841396096175,lng:-79.19237961593512},{lat:-0.2825972224656499,lng:-79.18832279703486},{lat:-0.28296292631254677,lng:-79.18698103309265},{lat:-0.28265225778881503,lng:-79.18540892889251},{lat:-0.27850584433924314,lng:-79.17547217963363},{lat:-0.2766686687099941,lng:-79.17041797431568},{lat:-0.2750205283633855,lng:-79.16529649333029},{lat:-0.2654203675227908,lng:-79.16524493605755},{lat:-0.26321127112766485,lng:-79.16525134392947},{lat:-0.2632359209119006,lng:-79.16371295989074},{lat:-0.26323215271974276,lng:-79.16312615808437},{lat:-0.2631561096116417,lng:-79.16280106741976},{lat:-0.2630210585266798,lng:-79.16244315466497},{lat:-0.2627604159668787,lng:-79.16203234610339},{lat:-0.26233347818686503,lng:-79.16161617312378},{lat:-0.26209855184377834,lng:-79.16137471791677},{lat:-0.26182071060023143,lng:-79.16125800874244},{lat:-0.261204914531158,lng:-79.16101555353532},{lat:-0.256763774568747,lng:-79.16117359346032},{lat:-0.2545432040073511,lng:-79.16130625760309},{lat:-0.25327466979833235,lng:-79.16134408537539},{lat:-0.2524660607549326,lng:-79.16143641890494},{lat:-0.25202653528697694,lng:-79.16156056181194},{lat:-0.25159773853684647,lng:-79.16164451821055},{lat:-0.2509436383782883,lng:-79.16189977156819},{lat:-0.2505844020864007,lng:-79.16213300439858},{lat:-0.2503202510909533,lng:-79.16228466660829},{lat:-0.25002391388850786,lng:-79.16231431162123},{lat:-0.24978122035002057,lng:-79.16242442290456},{lat:-0.24979398275597084,lng:-79.1626618687593},{lat:-0.24949024750258839,lng:-79.16290804345005}
            
          ],
          paradas: [
					          {lat:-0.24948,lng: -79.1629
					},{lat:-0.24617,lng: -79.16333},
					{lat:-0.24344,lng: -79.16319},
					{lat:-0.24021,lng: -79.16295},
					{lat:-0.23901,lng: -79.16774},
					{lat:-0.23819,lng: -79.16793},
					{lat:-0.23474,lng: -79.1672
					},{lat:-0.23535,lng: -79.17021},
					{lat:-0.23651,lng: -79.17185},
					{lat:-0.23775,lng: -79.17538},
					{lat:-0.23745,lng: -79.17747},
					{lat:-0.23754,lng: -79.18104},
					{lat:-0.24014,lng: -79.18649},
					{lat:-0.24117,lng: -79.18872},
					{lat:-0.24338,lng: -79.19763},
					{lat:-0.24653,lng: -79.20013},
					{lat:-0.25035,lng: -79.20306},
					{lat:-0.25279,lng: -79.20445},
					{lat:-0.25458,lng: -79.20443},
					{lat:-0.25631,lng: -79.20382},
					{lat:-0.26343,lng: -79.20255},
					{lat:-0.26795,lng: -79.20145},
					{lat:-0.27132,lng: -79.19998},
					{lat:-0.27448,lng: -79.20062},
					{lat:-0.27608,lng: -79.19856},
					{lat:-0.27876,lng: -79.19377},
					{lat:-0.28194,lng: -79.18356},
					{lat:-0.2809, lng:-79.1808}
					,{lat:-0.27456,lng: -79.16514},
					{lat:-0.26998,lng: -79.16518},
					{lat:-0.26802,lng: -79.16519},
					{lat:-0.2662, lng:-79.16519
					},{lat:-0.26397,lng: -79.16519},
					{lat:-0.26327,lng: -79.16278},
					{lat:-0.26149,lng: -79.16105},
					{lat:-0.25672,lng: -79.1611
					},{lat:-0.25466,lng: -79.16123},
					{lat:-0.25255,lng: -79.1614
					},{lat:-0.25072,lng: -79.16201}
          ]
			}
		},
		
		methods:{
			getLocalizacion(){
				 navigator.geolocation.getCurrentPosition(posicion =>{
				 	this.latitud = posicion.coords.latitude;
				 	this.longitud = posicion.coords.longitude;

				 	this.marcadores.push({
				 		 posicion: {
            				  lat: this.latitud,
            				  lng: this.longitud
            				}
				 	});
				 	this.centro.lat = this.latitud;
				 	this.centro.lon = this.longitud;
				 } );
			}
		}
	}
</script>
<style>
  iframe {
 max-width: 100%;
 height: auto;
}
</style>